<template>
    <lightning-card>
        <lightning-record-edit-form object-api-name="Agreement__c" onsubmit={handleSubmit}>
            <div class="slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none">
                <lightning-layout multiple-rows>
                    <lightning-layout-item size="3" padding="around-small">
                        <div class="custom-box " style="background-color: white;">
                            <lightning-input-field field-name="Name" onchange={handleName} variant="lookup" class="custom-input"></lightning-input-field>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item size="3" padding="around-small">
                        <div class="custom-box " style="background-color: white;">
                            <lightning-input-field field-name="Account__c" onchange={handleAccount} variant="lookup"></lightning-input-field>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item size="3" padding="around-small">
                        <div class="custom-box " style="background-color: white;">
                            <lightning-input-field field-name="Product__c" onchange={handleProduct} variant="lookup"></lightning-input-field>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item size="3" padding="around-small">
                        <div class="custom-box " style="background-color: white;">
                            <lightning-input-field field-name="Start_date__c" onchange={handleStartDate} required variant="lookup"></lightning-input-field>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item size="3" padding="around-small">
                        <div class="custom-box " style="background-color: white;">
                            <lightning-input-field field-name="End_date__c" onchange={handleEndDate} required variant="lookup"></lightning-input-field>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item size="3" padding="around-small">
                        <div class="custom-box " style="background-color: white;">
                            <lightning-input-field field-name="Amount__c" onchange={handleAmount} variant="lookup" type="number"></lightning-input-field>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item size="3" padding="around-small">
                        <div class="custom-box " style="background-color: white;">
                            <lightning-input-field field-name="Variable_Type__c" onchange={handleVariableType} variant="lookup"></lightning-input-field>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item size="3" padding="around-small">
                        <div class="custom-box " style="background-color: white;">
                            <lightning-input-field field-name="Payment_type__c" onchange={handlePaymentType} variant="lookup"></lightning-input-field>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item size="3" padding="around-small">
                        <div class="custom-box " style="background-color: white;">
                            <lightning-input-field field-name="Due_Date__c" onchange={handleDueDate} variant="lookup" type="number"></lightning-input-field>
                        </div>
                    </lightning-layout-item>
                </lightning-layout>
            </div>
    
            <div class="btn">
                <lightning-button name="preview" label="Preview" title="Preview action" onclick={handlePreview} class="slds-m-left_x-small"></lightning-button>
                <lightning-button name="submit" variant="brand" type="submit" label="Submit" title="Successful action" onclick={handleSubmit} class="slds-m-left_x-small"></lightning-button>
            </div>
        </lightning-record-edit-form>
    </lightning-card>

    <br><br>

    <div>
        <lightning-card>

        <table>
            <thead>
            <tr>
                <th>Invoice Name</th>
                <th>Agreement Name</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Due Date</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            <template for:each={data} for:item="item">
                <tr key={item.Id}>
                    <td>{item.rentalInvoice.Name}</td>
                    <td>{agreement.Name}</td>
                    <td>{item.rentalInvoice.Start_date__c}</td>
                    <td>{item.rentalInvoice.End_date__c}</td>
                    <td>{item.invoiceDueDate}</td>
                    <td>{item.rentalInvoice.Status__c}</td>
                    
                </tr>
            </template>
        </tbody>
        </table>
    </lightning-card>

    </div>
</template>